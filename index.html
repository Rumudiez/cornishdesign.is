---
layout: default
subtitle: "Cornish Expo:"
title: "Design 2015"
permalink: /
---

<header role="heading" class="col-5">
  <h3 class="pagesubtitle">{{ page.subtitle }}</h3>
  <h1 class="pagetitle">{{ page.title }}</h1>
</header>
<aside>
  <ul>
    <li class="col-1">
      <h4>8 May 2015</h4>
      <p>Opening Reception 5 - 8pm</p>
      <p><a href="about/">More About the Show &rarr;</a></p>
    </li>
    <li class="col-1">
      <h4>9 May - 17 May</h4>
      <p>Weekdays 2 - 7pm</p>
      <p>Weekends 12 - 5pm</p>
    </li>
    <li class="col-1">
      <p><a href="https://goo.gl/maps/K3SDn" title="Get directions here on Google Maps">Beebe Building<br>2014 9th Avenue<br>Seattle 98121</a></p>
    </li>
  </ul>
</aside>

<article class="col-5 designers">
  <h3>Meet the Designers</h3>
  <ul class="grid">
  </ul>
</article>

<!--    Page Specific Styles    -->
<!-- MOVE TO HEAD IN PRODUCTION -->
<style id="styles">
  .grid-item a:hover .circle:before,
  .grid-item a:focus .circle:before {
    content: "";
    border-radius: 50%;
    height: 100%;
    left: 0;
    position: absolute;
    top: 0;
    width: 100%;
  }
</style>

<script src="{{ site.baseurl }}js/tabletop.js"></script>
<script>
  /* Get grid element for HTML population */
  var grid = document.getElementsByClassName("grid")[0];

  window.onload = function() { init() };
  function init() {
    Tabletop.init( { key: "1CvMr7Scpa4v38EAWSOwqPbs1hpcNCNvZ395jfRXOkCM",
                     callback: renderContent,
                     simpleSheet: true,
                     orderby: "name",
                     reverse: true } );

    /* Use the pattern! */
    var patternFills = document.getElementsByClassName("pattern");
    var pattern      = patternDir["The Notebook"]
                     + colorName["#008789"];
    var color        = "#f05b40";

    for (i=0; i<patternFills.length; i++) {
      patternFills[i].setAttribute('style',  'background: url(' 
                                           + pattern
                                           + '.png),'
                                           + color
                                           + ';');
    }
  }

  function renderContent(data) {
    console.log(data);

    /* Create and populate the grid element profile names */
    for (i=0; i<data.length; i++) {
      var profile     = data[i],
          patternCode = profile["Pattern"].split(" ")[profile["Pattern"].split(" ").length - 1],
          colorCode   = "x" + profile["Top Color"].substring(1,7),
          image       = '<img src="{{ "assets/portraits/1x1/" | prepend: site.baseurl }}'
                      + profile["Your Name"].escapeSpaces()
                      + '.jpg">';
      if (profile["Image"] == "FALSE") image = '<div class="grey"></div>';
      grid.innerHTML += '<li class="col-1 grid-item '
                      + patternCode
                      + ' '
                      + colorCode
                      + '"><a href="{{ site.baseurl }}profile.html?name=' 
                      + encodeURIComponent(profile["Your Name"])
                      + '"><div class="circle">'
                      + image
                      + '</div><h5>'
                      + profile["Your Name"]
                      + '</h5></a></li>';

      /* Create custom styles for every grid item (create duplicate styles) */
      document.getElementById("styles").innerHTML += '.'
                                                   + patternCode
                                                   + '.'
                                                   + colorCode
                                                   + ' .circle:before{background:url('
                                                   + patternDir[profile["Pattern"]]
                                                   + colorName[profile["Top Color"]]
                                                   + '.png);mix-blend-mode:multiply;z-index:1}'

                                                   + '.'
                                                   + colorCode
                                                   + ' a:hover,.'
                                                   + colorCode
                                                   + ' a:focus{color:'
                                                   + profile["Top Color"]
                                                   + ' ;}'

                                                   ;
    }
  }
</script>