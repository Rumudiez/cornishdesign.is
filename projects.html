---
layout: default
subtitle: "Cornish Expo:"
title: Projects
permalink: /projects/
---

<div role="heading" class="col-5">
  <h3 class="pagesubtitle">{{ page.subtitle }}</h3>
  <h1 class="pagetitle">{{ page.title }}</h1>
</div>
<article class="col-5">
  <h3>Project Directory</h3>
  <ul id="projects">
  </ul>
</article>

<script src="{{ site.baseurl }}js/tabletop.js"></script>
<script>
  var projects = document.getElementById("projects");

  window.onload = function() { init() };

  function init() {
    Tabletop.init( { key: "1CvMr7Scpa4v38EAWSOwqPbs1hpcNCNvZ395jfRXOkCM",
                     callback: renderContent,
                     simpleSheet: true,
                     orderby: "name",
                     reverse: true } );

    /* Use the pattern! */
    var patternFills = document.getElementsByClassName("pattern");
    var pattern      = patternDir["Modern Lumber"]
                     + colorName["#008789"];
    var color        = "#f05b40";

    for (i=0; i<patternFills.length; i++) {
      patternFills[i].setAttribute('style',  'background: url(../' 
                                           + pattern
                                           + '.png),'
                                           + color
                                           + ';');
    }
  }

  function renderContent(data) {
    console.log(data);

    /* Create HTML then populate it */
    for (i=0; i<data.length; i++) {
      projects.innerHTML += '<li><a href="'
                          + '{{ site.baseurl }}project.html?pname='
                          + encodeURI(data[i]["Project Name"])
                          + '">'
                          + data[i]["Project Name"]
                          + '</h4></a></li>';
    }
  }
</script>